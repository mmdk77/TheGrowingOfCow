<!doctype html>
<html>
 <head>
	<meta charset="UTF-8">
	<title>The Growing of cow</title>
		<style>
		</style>
		<script src="./lib/Cow.js"> </script>
		<script src="./lib/Weeds.js"></script>
		<script src="./lib/lib.js"></script>
		<script>
			//기타 변수
			var stage;
			var stage_wid=600;
			var stage_hei=400;
			var key;
			//소 변수
			var cow;
			var cowArr=[  //소 표정
				"./images/cow/cow1.png",
				"./images/cow/cow2.png",
				"./images/cow/cow3.png",
				"./images/cow/cow4.png"
				];
			//소 움직임
			var cowCnt=0;
			var step=0;
			//풀
			var weeds;
			var weedImg =[
				"./images/weeds/weed1.png",
				"./images/weeds/weed2.png",
				"./images/weeds/weed3.png",
				"./images/weeds/weed4.png",
				"./images/weeds/weed5.png"
				];
			var weedArr = new Array();

			var isEat = true;
			
			//문서시작시.
			window.addEventListener("load",function(){
				document.body.style.margin = "0px";
				stage=document.getElementById("stage");
				stage.style.width=stage_wid+"px";
				stage.style.height=stage_hei+"px";
				stage.style.backgroundImage="url('./images/gameback.png')";

				//소생성
				cow = new Cow(stage,31,22,500,310,"./images/cow/cow1.png");
				cow.init();	
	
				//랜덤 잡초생성
				setTimeout(function(){
					for(var i=0;i<10;i++){
						var rand=getRandomByRange(weedImg.length-1,0);
						var weedsRand=getRandomByRange(14,1);
						var weeds = new Weeds(stage, 40,30, 40*weedsRand, 301, weedImg[rand]);
						weeds.init();
						weedArr.push(weeds);		
					}
				},300);
			});

			//키보드 누를시 이벤트
			window.addEventListener("keydown",function(){
				key=event.keyCode;
				switch(key){
					case 37: 
						go(-1); //왼쪽
						break;
					case 39: 
						go(+1); //오른쪽
						break;
				}
			});
			window.addEventListener("keyup",function(){
				cow.velX=0;
				cow.running=false;
			});


		</script>
 </head>
	<body>

		<div id="stage"></div>

	</body>
</html>
